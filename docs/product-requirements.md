# プロダクト要求定義書

## プロダクトビジョンと目的

### ビジョン
Mynion は、Slack を通じて日常業務を支援する AI パーソナルアシスタントです。
自然言語での対話を通じて、スケジュール管理や情報検索などのタスクを効率化します。

### 目的
- 日常業務における繰り返しタスクの自動化
- Slack という既存のコミュニケーションツール上でシームレスに利用可能
- AWS Bedrock の AI 機能を活用した高品質な対話体験の提供

## ターゲットユーザーと課題・ニーズ

### ターゲットユーザー
- Slack を日常的に利用するビジネスユーザー
- スケジュール管理や情報整理に課題を感じている個人・チーム

### 課題
- 複数のツールを行き来する非効率さ
- 定型的なタスク（スケジュール確認、リマインダー設定など）への時間消費
- 情報の分散と検索の煩雑さ

### ニーズ
- 使い慣れた Slack 上で完結する業務支援
- 自然言語での直感的な操作
- カレンダーや各種サービスとの連携

## 主要な機能一覧

1. **Slack 対話機能**
   - メンション時の応答
   - スレッド内での継続的な対話
   - 自然言語による指示理解

2. **カレンダー連携**
   - Google Calendar との統合
   - スケジュールの確認・登録・変更
   - リマインダー機能

3. **AI アシスタント機能**
   - AWS Bedrock を活用した対話
   - コンテキストを理解した応答
   - タスク実行と結果報告

## 成功の定義

- ユーザーが Slack 上で自然に対話できる
- カレンダー操作が Slack 経由で完結する
- 応答時間が実用的なレベル（数秒以内）である
- エラー時に適切なフィードバックが返される

## ビジネス要件

- 個人利用を想定したシンプルな構成
- AWS のサーバーレスアーキテクチャによる運用コスト最適化
- セキュアな認証情報管理

## ユーザーストーリー

### US-1: Slack でのメンション応答
> ユーザーとして、Slack で Mynion をメンションすると、AI が応答してくれる。

### US-2: スケジュール確認
> ユーザーとして、「今日の予定は？」と聞くと、Google Calendar の予定を教えてくれる。

### US-3: 予定の登録
> ユーザーとして、「明日の10時に会議を入れて」と言うと、カレンダーに予定が登録される。

### US-4: スレッド内対話
> ユーザーとして、スレッド内で継続的に会話すると、文脈を理解した応答が返ってくる。

## 受け入れ条件

### AC-1: Slack 連携
- [ ] Slack App として動作する
- [ ] メンション時に応答する
- [ ] スレッド内での対話をサポートする

### AC-2: カレンダー連携
- [ ] Google Calendar API と連携する
- [ ] 予定の取得ができる
- [ ] 予定の登録ができる

### AC-3: AI 対話
- [ ] AWS Bedrock でモデルを呼び出せる
- [ ] 自然言語の指示を理解できる
- [ ] 適切な応答を生成できる

## 機能要件

### FR-1: Slack イベント処理
- Slack からのイベント（メンション、メッセージ）を受信する
- イベントの種類に応じて適切な処理を行う
- 処理結果を Slack に返信する

### FR-2: AI エージェント
- Strands Agent フレームワークを使用する
- AWS Bedrock AgentCore Runtime にデプロイする
- ツール（カレンダー操作等）を実行する

### FR-3: カレンダー操作
- Google Calendar API を使用する
- 認証情報を安全に管理する
- CRUD 操作をサポートする

## 非機能要件

### NFR-1: パフォーマンス
- Slack への応答は 3 秒以内に開始する
- AI 処理は 30 秒以内に完了する

### NFR-2: 可用性
- サーバーレスアーキテクチャによる高可用性
- AWS Lambda のリトライ機能を活用

### NFR-3: セキュリティ
- 認証情報は AWS Secrets Manager で管理
- Slack 署名検証による不正リクエスト防止
- IAM 最小権限原則の遵守

### NFR-4: 運用性
- CloudWatch によるログ・メトリクス監視
- Infrastructure as Code (AWS CDK) による構成管理
